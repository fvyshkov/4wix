<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      margin: 0;
    }
    svg rect {
      cursor: pointer;
      transition: opacity 0.2s ease;
    }
    svg rect:hover {
      opacity: 0.7;
    }
  </style>
</head>

<body>

<svg width="100" height="70" viewBox="0 0 100 70">
  <rect id="red"    y="0"   width="100" height="10" fill="red"/>
  <rect id="orange" y="10"  width="100" height="10" fill="orange"/>
  <rect id="yellow" y="20"  width="100" height="10" fill="yellow"/>
  <rect id="green"  y="30"  width="100" height="10" fill="green"/>
  <rect id="blue"   y="40"  width="100" height="10" fill="blue"/>
  <rect id="indigo" y="50"  width="100" height="10" fill="indigo"/>
  <rect id="violet" y="60"  width="100" height="10" fill="violet"/>
</svg>

  <script>
    const ids = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
    ids.forEach(id => {
      document.getElementById(id).addEventListener("mouseenter", () => {
        window.parent.postMessage({
          source: "my-custom-element",
          type: "user-action",
          color: id
        }, "*");
      });
    });
  </script>
</body>
</html>
