<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      margin: 0;
    }
    svg rect {
      cursor: pointer;
      transition: opacity 0.2s ease;
    }
    svg rect:hover {
      opacity: 0.7;
    }
  </style>
</head>

<body>

  <svg width="700" height="100" viewBox="0 0 700 100">
    <rect id="red"    x="0"   width="100" height="100" fill="red"/>
    <rect id="orange" x="100" width="100" height="100" fill="orange"/>
    <rect id="yellow" x="200" width="100" height="100" fill="yellow"/>
    <rect id="green"  x="300" width="100" height="100" fill="green"/>
    <rect id="blue"   x="400" width="100" height="100" fill="blue"/>
    <rect id="indigo" x="500" width="100" height="100" fill="indigo"/>
    <rect id="violet" x="600" width="100" height="100" fill="violet"/>
  </svg>

  <script>
    const ids = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
    ids.forEach(id => {
      document.getElementById(id).addEventListener("mouseenter", () => {
        window.parent.postMessage({
          source: "my-custom-element",
          type: "user-action",
          color: id
        }, "*");
      });
    });
  </script>
</body>
</html>